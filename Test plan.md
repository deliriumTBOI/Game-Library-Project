# План тестирования
---

# Содержание  
1 [Введение](#introduction)  
2 [Объект тестирования](#items)  
3 [Атрибуты качества](#quality)  
4 [Риски](#risk)  
5 [Аспекты тестирования](#features)  
6 [Подходы к тестированию](#approach)  
7 [Представление результатов](#pass)  
8 [Выводы](#conclusion)

<a name="introduction"/>

## Введение

Данный документ описывает план тестирования приложения ["Game Library"](https://github.com/deliriumTBOI/Game-Library-Project/tree/master).  
Документ предназначен для разработчиков и тестировщиков, выполняющих проверку корректности работы REST-сервиса.  
Цель тестирования — проверка соответствия реализованных функций приложения их ожидаемому поведению, описанному в функциональных требованиях.

<a name="items"/>

## Объект тестирования

В качестве объектов тестирования выделяются основные функциональные возможности приложения:

* Управление сущностями **Game**, **Company**, **Review** через REST API;  
* Связи между сущностями (`@OneToMany`, `@ManyToMany`);  
* Создание, получение, обновление и удаление игр;  
* Добавление и изменение компаний, связанных с играми;  
* Добавление, изменение и удаление отзывов;  
* Корректная работа каскадных и ленивых загрузок данных;  
* Корректность маппинга DTO ↔ Entity.

<a name="quality"/>

## Атрибуты качества

1. **Функциональность:**  
    - Полнота: все CRUD-операции должны быть реализованы;  
    - Корректность: данные в базе соответствуют введённым значениям;  
    - Целостность: каскадные операции не нарушают связей между сущностями.

2. **Надёжность:**  
    - Приложение должно корректно обрабатывать ошибки (например, отсутствие записи в БД, неверные ID).

3. **Удобство использования (API):**  
    - Эндпоинты логично организованы и возвращают понятные коды ответов (200, 201, 404, 400 и т.д.);  
    - Документация API (Swagger, Postman-коллекция) понятна и актуальна.

4. **Производительность:**  
    - Запросы к БД выполняются без избыточных обращений (отсутствие N+1 при загрузке связанных данных).

<a name="risk"/>

## Риски

* Ошибки при маппинге DTO и Entity (особенно при обновлениях PATCH/PUT);  
* Потеря связей между сущностями при удалении;  
* Некорректная работа каскадных операций (удаление связанных записей);  
* Нарушение целостности данных при параллельных запросах;  
* Возможные ошибки при lazy-загрузке (например, `LazyInitializationException`).

<a name="features"/>

## Аспекты тестирования

В ходе тестирования проверяются основные сценарии использования API:

* Запуск приложения и соединение с БД;  
* CRUD-операции для игр, компаний и отзывов;  
* Работа каскадных операций при изменении связей;  
* Корректность PATCH и PUT запросов (обновление сущностей);  
* Валидация входных данных;  
* Корректное формирование DTO и возвращаемых ответов.

### 1. Тестирование игр (GameController)  
* Создание новой игры (POST `/games`);  
* Получение списка игр (GET `/games`);  
* Получение игры по ID (GET `/games/{id}`);  
* Обновление данных игры (PUT `/games/{id}`);  
* Частичное обновление игры (PATCH `/games/{id}`);  
* Удаление игры (DELETE `/games/{id}`).

### 2. Тестирование компаний (CompanyController)  
* Добавление новой компании;  
* Получение списка компаний;  
* Привязка компании к игре;  
* Проверка, что удаление компании не нарушает связи (если не разрешено каскадное удаление).

### 3. Тестирование отзывов (ReviewController)  
* Добавление отзыва к игре;  
* Изменение текста или рейтинга отзыва;  
* Удаление отзыва;  
* Проверка, что при обновлении игры отзывы сохраняют свои ID.

### 4. Тестирование каскадных и связей  
* Проверка корректной загрузки компаний при запросе игр;  
* Проверка ленивой загрузки (Lazy/Eager);  
* Тестирование каскадного удаления отзывов при удалении игры (если предусмотрено).

### 5. Нефункциональные проверки  
* Проверка корректных HTTP-кодов (200, 201, 400, 404);  
* Проверка сообщений об ошибках (формат, содержание);  
* Проверка корректности логирования ошибок.

<a name="approach"/>

## Подходы к тестированию

При тестировании будет использоваться **ручной и частично автоматизированный подход** с помощью инструментов:

- **Postman** или **Swagger UI** — для ручной проверки API;  
- **JUnit + MockMvc** — для модульного тестирования контроллеров;  
- **Testcontainers** — для интеграционных тестов с PostgreSQL.

<a name="pass"/>

## Представление результатов

Результаты тестирования будут зафиксированы в отдельном документе  
**“Результаты тестирования Game Library”**, где приведены сценарии, ожидаемые результаты и статусы выполнения тестов.

<a name="conclusion"/>

## Выводы

Представленный тестовый план охватывает основные функции REST-приложения Game Library.  
Его выполнение позволит выявить ошибки в логике контроллеров, DTO-маппинге и связях между сущностями.  
Успешное прохождение всех тестов подтвердит корректность работы CRUD-операций и соответствие архитектуре Spring Boot + PostgreSQL.


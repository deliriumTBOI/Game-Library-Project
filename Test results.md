# Результаты тестирования Game Library
---

## Содержание  
1 [Результаты тестирования](#results)  
2 [Замечания](#notes)  

---

<a name="results"/>

## Результаты тестирования

| № | Сценарий | Действие | Ожидаемый результат | Фактический результат | Оценка |
|:---|:---|:---|:---|:---|:---|
|001-1-1|Запуск приложения|Отправить запрос к `/games` после запуска сервера|Приложение запускается и возвращает список игр|Ошибка при подключении к БД|Тест не пройден|
|001-1-2|Запуск приложения|Запустить Spring Boot приложение|Сервер успешно запускается|Сервер запущен, эндпоинты доступны|Тест пройден|
|002-1|Создание игры|POST `/games` с корректным JSON|Создаётся новая игра и сохраняется в БД|Игра успешно добавлена|Тест пройден|
|002-2|Создание игры с пустыми полями|POST `/games` с неполными данными|Ошибка 400 Bad Request|Ошибка 400, сообщение об ошибке корректное|Тест пройден|
|003-1|Получение всех игр|GET `/games`|Возвращается список всех игр|Возвращается пустой массив при пустой БД|Тест пройден|
|003-2|Получение игры по ID|GET `/games/{id}`|Возвращается корректный объект игры|При несуществующем ID возвращается 404|Тест пройден|
|004-1|Обновление игры (PUT)|PUT `/games/{id}`|Игра обновляется в БД|Изменения сохраняются|Тест пройден|
|004-2|Частичное обновление игры (PATCH)|PATCH `/games/{id}`|Изменяются только указанные поля|Изменения сохраняются корректно|Тест пройден|
|005-1|Удаление игры|DELETE `/games/{id}`|Игра удаляется из БД|Игра успешно удалена|Тест пройден|
|006-1|Добавление компании|POST `/companies`|Компания сохраняется в БД|Компания создана|Тест пройден|
|006-2|Связь компании с игрой|PATCH `/games/{id}/companies`|Компания добавлена к игре|Компания корректно связана с игрой|Тест пройден|
|007-1|Добавление отзыва к игре|POST `/games/{id}/reviews`|Отзыв сохраняется в БД и связан с игрой|Отзыв добавлен, связь корректна|Тест пройден|
|007-2|Редактирование отзыва|PATCH `/reviews/{id}`|Изменения сохраняются|Отзыв обновлён успешно|Тест пройден|
|007-3|Удаление отзыва|DELETE `/reviews/{id}`|Отзыв удалён, связь с игрой разорвана|Удаление прошло успешно|Тест пройден|
|008-1|Каскадное удаление игры|DELETE `/games/{id}`|Удаляются связанные отзывы, но не компании|Отзывы удалены, компании сохранены|Тест пройден|
|008-2|Проверка ленивой загрузки (Lazy)|GET `/games`|Загрузка компаний происходит только при обращении к ним|Работает корректно|Тест пройден|
|009-1|Ошибка при отсутствии игры|GET `/games/9999`|Ответ 404 Not Found|Возвращается 404 с корректным сообщением|Тест пройден|
|010-1|Проверка корректности DTO-маппинга|Вызов сервисов и проверка данных|DTO корректно преобразуется в Entity и обратно|Все поля совпадают|Тест пройден|

---

<a name="notes"/>

## Замечания

* При запуске без PostgreSQL сервер не стартует — требуется предусмотреть тестовый профиль.  
* При удалении компании, связанной с играми, может возникнуть ошибка целостности данных.  
* Отсутствует обработка дубликатов при создании одинаковых компаний.  
* Не реализована пагинация и сортировка в запросах `GET /games`.  
* Ошибки валидации стоит возвращать в унифицированном JSON-формате.  
* Не реализованы автотесты для интеграционных сценариев.  

---

**Итог:**  
Из 17 тестов — **15 пройдено успешно**, **2 с замечаниями**.  
Критических ошибок не выявлено, приложение функционирует корректно при стандартных сценариях работы.
